# PRD: Polymarket Whale Tracker (Web Widget)

> **문서 버전**: v0.1 (초안)
> **작성일**: 2026-02-11
> **프로젝트**: ProjectB

---

## 1. 개요

### 1.1 한 줄 요약
Polymarket 고래 지갑 300~1,000개의 거래를 실시간으로 추적하여, 웹 피드 형태로 보여주는 서비스.

### 1.2 문제 정의
- Polymarket에서 큰 금액을 움직이는 고래(whale)들의 거래는 시장 방향성의 강력한 시그널
- 현재 고래 활동 데이터는 구글 시트에 수집 중이지만, 실시간으로 보기 편한 UI가 없음
- 유저들이 "지금 고래들이 뭘 사고 파는지" 한눈에 볼 수 있는 피드가 필요

### 1.3 목표
1. 구글 시트에 수집된 고래 거래 데이터를 웹 피드로 시각화
2. 최신 거래가 위에 오는 역순 타임라인
3. 고정 크기 위젯 안에서 스크롤 가능한 UX
4. 추후 Mm.pro의 "데이터 탭"에 위젯으로 삽입

---

## 2. 타겟 유저

- Polymarket 트레이더 (한국인 중심)
- 고래/스마트머니 움직임을 참고하여 베팅 판단하는 유저
- Mm.pro 서비스 이용자

---

## 3. 데이터 소스

### 3.1 구글 시트 연동

현재 구글 시트에 3개의 탭으로 데이터 수집 중:

#### 탭 1: 지갑 주소 목록
추적 대상 고래 지갑 목록 (300~1,000개)

| 컬럼 | 설명 | 예시 |
|------|------|------|
| 지갑주소(address) | 온체인 지갑 주소 | 0xe8a8cc8877e2af... |
| 최초등장일(first_seen) | 처음 감지된 날짜 | 2026-02-03 |
| 트위터ID(twitter_id) | 연결된 트위터 계정 | @username |
| 폴리마켓프로필URL | Polymarket 프로필 링크 | https://polymarket... |
| 최근이벤트명 | 마지막 거래한 마켓 | Bitcoin Up or Down |
| 최근매수/매도 | BUY 또는 SELL | BUY |
| 최근결과 | Yes/No/팀명 등 | Yes |
| 최근가격 | 거래 가격 | 0.999 |
| 최근수량 | 거래 금액 | 13939 |
| 최근일자 | 마지막 거래 일자 | 2026-02-04 |

#### 탭 2: 고래 활동 트랜잭션
실제 거래 기록 (메인 데이터)

| 컬럼 | 설명 | 예시 |
|------|------|------|
| 거래ID(id) | 고유 거래 번호 | 109487 |
| 지갑주소(address) | 거래 지갑 | 0x83a046a3893d... |
| 유저명(user_name) | Polymarket 닉네임 | idris777 |
| 폴리마켓프로필URL | 프로필 링크 | https://polymarket... |
| 이벤트슬러그(event_slug) | 마켓 식별자 | lol-ig1-jdg-2026-... |
| 이벤트명(event_name) | 마켓 제목 | LoL: Invictus Gaming vs... |
| 매수/매도(buy_sell) | 거래 방향 | BUY / SELL |
| 결과(outcome) | 베팅 방향 | JD Gaming / Yes / No |
| 가격(event_price) | 거래 가격 | 0.999 |
| 수량(event_size) | 거래 규모 ($) | 12364.2 |
| 날짜(date) | 거래 날짜 | 2026-02-03 |
| 타임스탬프(timestamp) | Unix timestamp | 1770126926 |

#### 탭 3: 수동으로 수집중인 주소
별도로 수동 큐레이션하는 지갑 목록 (탭 1과 동일 구조)

### 3.2 데이터 연동 방식
- 구글 시트 API를 통해 데이터를 읽어오는 방식
- 폴링 주기: 개발자와 협의 (실시간성 vs API 호출 제한 고려)
- 또는 구글 시트 → DB 동기화 후 DB에서 읽기

---

## 4. 핵심 기능

### 4.1 P0 (필수)

| 기능 | 설명 |
|------|------|
| 거래 피드 표시 | 고래 거래를 시간 역순으로 리스트 표시 |
| 거래 카드 | 유저 프사/이름, 마켓명, 매수/매도, 결과, 가격, 금액, 시간 표시 |
| 스크롤 | 고정 크기 컨테이너 안에서 무한/페이지네이션 스크롤 |
| 실시간 업데이트 | 새 거래 발생 시 피드 상단에 자동 추가 |

### 4.2 P1 (우선)

| 기능 | 설명 |
|------|------|
| 매수/매도 색상 구분 | BUY = 초록, SELL = 빨강 |
| 금액 포맷 | $12,364 형태로 가독성 좋게 |
| 시간 표시 | "about 4 hours ago" 형태의 상대 시간 |
| 마켓 링크 | 마켓명 클릭 시 Polymarket 해당 마켓으로 이동 |
| 유저 프로필 링크 | 유저명 클릭 시 Polymarket 프로필로 이동 |

### 4.3 P2 (추후)

| 기능 | 설명 |
|------|------|
| 필터 | 매수만/매도만, 금액 범위, 특정 마켓 필터링 |
| 검색 | 유저명, 마켓명으로 검색 |
| 알림 | 대형 거래 발생 시 하이라이트 또는 알림 |

---

## 5. UI/UX 설계

### 5.1 위치
- 추후 Mm.pro의 **"데이터 탭"** 신설 시 해당 탭에 위젯으로 삽입
- 초기에는 독립 페이지로 개발 후, 나중에 위젯화

### 5.2 레이아웃 (참고: KOL Whale Activity)

```
┌──────────────────────────────────────────────────────┐
│  WHALE ACTIVITY                                      │
├──────────────────────────────────────────────────────┤
│                                                      │
│  마켓명: Will the highest temperature in Toronto...  │
│  [프사] 유저명  ✕  bought  No  at 0.99¢ ($9,900)    │
│                                          4 hours ago │
│                                                      │
├──────────────────────────────────────────────────────┤
│                                                      │
│  마켓명: Will Trump nominate Judy Shelton as the...  │
│  [프사] 유저명  ✕  sold  No  at 0.99¢ ($5,280)      │
│                                          5 hours ago │
│                                                      │
├──────────────────────────────────────────────────────┤
│                                                      │
│  마켓명: Spread: Spurs (-12.5)                       │
│  [프사] 유저명  ✕  sold  Spurs  at 0.999¢ ($284k)   │
│                                          5 hours ago │
│                                                      │
├──────────────────────────────────────────────────────┤
│              ↓ 스크롤하면 과거 거래 더 보기            │
└──────────────────────────────────────────────────────┘
```

### 5.3 거래 카드 구성 요소

```
┌──────────────────────────────────────────────────┐
│ 마켓명 (이벤트명)                        시간     │
│ [프사]  유저명  ✕  bought  Yes  at 0.99¢ ($9.9k) │
└──────────────────────────────────────────────────┘
```

- **마켓명**: 이벤트명 (클릭 시 Polymarket 마켓 페이지로 이동)
- **프사**: 유저 프로필 이미지 (Polymarket 프로필에서 가져오기)
- **유저명**: Polymarket 닉네임 (클릭 시 프로필로 이동)
- **✕ (X 아이콘)**: 트위터 연결 표시 (트위터 ID가 있는 경우)
- **bought/sold**: 매수는 초록, 매도는 빨강
- **결과**: Yes / No / 팀명 등
- **가격**: at 0.99¢ 형태
- **금액**: 괄호 안에 달러 금액
- **시간**: 상대 시간 (about 4 hours ago)

### 5.4 디자인 참고
- 다크 테마 기본
- 4번 이미지(KOL Whale Activity) UI를 참고하여 제작

---

## 6. 기술 고려사항

### 6.1 구글 시트 연동
- Google Sheets API v4 사용
- 읽기 전용 접근 (서비스 계정 또는 API Key)
- 폴링 주기 협의 필요 (Google Sheets API 제한: 분당 60회)

### 6.2 스케일
- 지갑 수: 300~1,000개
- 트랜잭션 데이터: 지속 증가 (일일 수백~수천 건)
- 시트 데이터가 커지면 DB 마이그레이션 검토

### 6.3 관련 프로젝트
- **ProjectE** (텔레그램 봇): 온체인 감지 로직 참고 가능, 단 E는 소규모(50~100) 개인용
- **ProjectA** (Mm.pro): 최종적으로 이 서비스의 데이터 탭에 위젯으로 삽입

---

## 7. MVP 범위

### 포함
- 구글 시트에서 거래 데이터 읽어오기
- 거래 피드 역순 표시 (거래 카드 UI)
- 스크롤 가능한 피드
- 매수/매도 색상 구분
- 마켓/유저 프로필 링크

### 미포함 (추후)
- 필터/검색 기능
- 실시간 푸시 알림
- Mm.pro 위젯 통합 (먼저 독립 페이지로)
- 자체 온체인 크롤링 (현재는 구글 시트 의존)

---

## 8. 성공 기준

- 구글 시트 데이터가 웹 피드에 정상 표시
- 새 거래 추가 시 피드에 자동 반영
- 모바일/데스크톱 반응형 지원
- 페이지 로딩 2초 이내
