# 휘릭휘릭메모장(지금상황 + 앞으로 할일만)

## 지금 상황 (한 줄 요약)
- 개인서버 SSH 접속은 이미 성공했다.
- 현재 프롬프트가 `ubuntu@ip-...:~$` 이면 서버 안에 있는 상태다.
- 실패한 건 "서버 안에서 또 ssh를 한 번 더 친 것" 때문에 생긴 혼선이다.

---

## 앞으로 할 일 (그대로 복붙)

### 1) 지금 서버 안인지 확인
> 이 명령어는 현재 내가 서버 안에 있는지 확인한다. 지금은 실행 시작 전 위치 확인 단계다.
```bash
whoami && hostname && pwd
```

### 2) 서버에 코드 폴더 만들기 (처음 1회)
> 이 명령어는 서버 홈에 `claudecode`를 내려받는다. 지금은 실행할 프로젝트 파일 준비 단계다.
```bash
git clone git@github.com:logan671/logancoin.git ~/claudecode
```

### 3) 이미 폴더가 있으면 최신화
> 이 명령어는 기존 폴더를 최신 코드로 맞춘다. 지금은 실행 전 동기화 단계다.
```bash
cd ~/claudecode && git pull --rebase
```

### 4) 프로젝트 폴더로 이동
> 이 명령어는 우리가 실제 실행할 폴더로 이동한다. 지금은 본 실행 직전 단계다.
```bash
cd ~/claudecode/ProjectK-polycopyman
```

### 5) 실전용 환경변수 설정
> 이 명령어는 봇/볼트/실거래 모드 설정값을 현재 서버 터미널에 넣는다. 지금은 실행 조건 세팅 단계다.
```bash
export PROJECTK_DB_PATH="/tmp/projectk_local.db"
export PROJECTK_VAULT_PASSPHRASE="여기에_긴_비밀번호"
export PROJECTK_TELEGRAM_BOT_TOKEN="여기에_봇토큰"
export PROJECTK_TELEGRAM_CHAT_ID="1785393233"
export PROJECTK_TELEGRAM_OWNER_CHAT_ID="1785393233"
export PROJECTK_TELEGRAM_MAX_RETRIES="3"
export PROJECTK_EXECUTOR_MODE="live"
export PROJECTK_POLYMARKET_HOST="https://clob.polymarket.com"
export PROJECTK_POLYMARKET_CHAIN_ID="137"
export PROJECTK_POLYMARKET_SIGNATURE_TYPE="0"
```

### 6) 패키지 설치
> 이 명령어는 ProjectK 실행에 필요한 파이썬 패키지를 설치한다. 지금은 의존성 설치 단계다.
```bash
cd ~/claudecode && python3 -m pip install -r ProjectK-polycopyman/requirements.txt
```

### 7) DB 초기화 (처음 1회)
> 이 명령어는 테스트/운영용 DB를 만들고 기본 스키마를 넣는다. 지금은 데이터베이스 준비 단계다.
```bash
cd ~/claudecode && ProjectK-polycopyman/run_seed.sh "$PROJECTK_DB_PATH"
```

### 8) 니모닉 등록 (중요)
> 이 명령어는 니모닉을 화면 비표시로 입력받아 암호화 저장한다. 지금은 지갑 key_ref 생성 단계다.
```bash
cd ~/claudecode/ProjectK-polycopyman && python3 -m backend.wallet_cli add wallet_1
```

### 9) 프로세스 실행 (각각 새 터미널 탭에서)
> 이 명령어들은 API/봇/워커/웹을 실행한다. 지금은 서비스 구동 단계다.
```bash
cd ~/claudecode/ProjectK-polycopyman && python3 -m backend.main
```
```bash
cd ~/claudecode/ProjectK-polycopyman && python3 -m bot.register_bot
```
```bash
cd ~/claudecode/ProjectK-polycopyman && python3 -m worker.signal_worker
```
```bash
cd ~/claudecode && python3 ProjectK-polycopyman/web/server.py
```

### 10) 텔레그램에서 페어 등록
> 이 명령어는 텔레그램 봇에서 대화형 등록을 시작한다. 지금은 지갑 페어 연결 단계다.
```bash
/addpair
```

---

## 진짜 자주 하는 실수 3개
- 서버 안(`ubuntu@ip-...`)에서 또 `ssh ...` 치지 않기
- 맥 경로(`~/Desktop/...`)를 서버에서 그대로 쓰지 않기
- 니모닉을 텔레그램에 입력하지 않기 (`wallet_cli add`에서만 입력)
