# 게시판 운영 정책

커뮤니티 피드 구조 및 운영 방식 결정 문서

---

## TL;DR (요약)

### 최종 결정

| 항목 | 결정 |
|------|------|
| **피드 탭** | [최신글] / [주제별] / [뜨거운 반응] 3개 |
| **스크롤 방식** | 무한스크롤 (세로 통일) |
| **인기글 (최신글 탭)** | 상단 2개, 새로고침마다 교체 |
| **인기글 (주제별 탭)** | 해당 주제 인기글 2개 |
| **인기글 기준** | 좋아요 15+ 댓글 5+ (초기) |
| **주제 카테고리** | Polymarket 태그 13개 (마켓 글=자동태그, 커뮤니티 글=최근사용 우선) |
| **유저 프로필** | SPA 전환 + 슬라이드 (토스 UI 참고) |
| **익명 글** | 피드 노출 O, 랜덤 닉네임, 인기글 진입 가능 |
| **글 작성 연동** | 마켓 페이지 글 → 커뮤니티 피드 자동 노출 |
| **댓글 구조** | 1단 답글만 (대댓글 X), 시간순 정렬 |
| **익명 댓글** | 랜덤 닉네임, 같은 글 내 동일인 = 같은 닉네임 |
| **댓글 수정/삭제** | 10분 이내만 가능 |
| **글 수정** | 10분 이내, "(수정됨 N분 전)" 표시 |
| **글 삭제** | 무제한, 댓글도 같이 삭제 |
| **알림** | 댓글/답글/좋아요(묶음)/팔로우/예측결과/인기글/배지 |
| **알림 설정** | 전체 ON/OFF만, 30일 보관, 웹 푸시 지원 |
| **검색** | 글+유저 검색, 상세 필터, 최신순 기본 |
| **북마크** | 글/댓글/유저, 폴더 없음, 삭제된 글 표시 유지 |
| **마켓 종료** | 객관적 결과만 표시, 24시간 후 노출 감소, 종료 후 수정 불가 |
| **신고** | 글+댓글, 5건 이상 자동 숨김 + 모더 알림 |
| **차단** | 상대 글/댓글 안 보임, 몰래 차단, 언제든 해제 |
| **이미지** | 글+댓글+프로필, 20장, 10MB, JPG/PNG/GIF/WebP |
| **팔로우** | 알림 있음, 목록 본인만 확인 |
| **프로필** | 닉네임 90일 1회 변경, 2~15자, 자기소개 100자 |
| **온보딩** | 없음, 랜덤 닉네임 부여 |
| **키워드 필터** | 욕설 마스킹, 스팸 자동숨김, 정치 비하는 허용 |
| **글 작성 제한** | 최소 10자, 최대 10,000자 |
| **회원가입** | Privy (지갑/소셜/이메일) |
| **탈퇴** | 7일 유예, 글 유지 (닉네임 → "탈퇴한 사용자"), 30일 재가입 제한 |

### 핵심 포인트
- 무한스크롤로 **참여 유도** + 주제별 탭으로 **탐색성 확보**
- **뜨거운 반응 탭** 분리로 인기글 전용 공간 제공
- 유저 프로필 전환 시 **앱 네이티브 느낌** 유지

---

## 1. 배경: 왜 이 고민을 했나?

게시판 정책을 정하기 위해 다음 질문들에 답해야 했습니다:

- 인기글은 어떤 기준으로 선정할 것인가?
- 스크롤 방식은 페이지네이션 vs 무한스크롤?
- 인기글을 어디에 몇 개나 노출할 것인가?
- 투자 커뮤니티 특성에 맞는 탐색 기능은?

---

## 2. MM.pro 서비스 특성 및 스크롤 방식 선택

### 2.1 MM.pro는 어떤 커뮤니티인가?

| 특성 | MM.pro | 비고 |
|------|--------|------|
| **실시간성** | ✅ 높음 | 예측 시장 연동, 시세 변동에 즉각 반응 |
| **참여 유도** | ✅ 필수 | 글쓰기, 예측 베팅, 토론 활성화 |
| **아카이브 필요** | ⚠️ 중간 | 과거 예측 기록 탐색은 필요하나 핵심은 아님 |
| **모바일 비중** | ✅ 높음 | 투자 앱 사용자 특성상 모바일 우선 |
| **SEO 의존도** | ❌ 낮음 | 검색 유입보다 앱/커뮤니티 내 활동 중심 |

**결론:** MM.pro는 **실시간 + 참여 유도 + 모바일** 중심 서비스

### 2.2 페이지네이션 vs 무한스크롤

| | 페이지네이션 | 무한스크롤 | MM.pro 적합 |
|---|:---:|:---:|:---:|
| 실시간성 | ❌ | ✅ | **무한스크롤** |
| 참여 유도 | ❌ | ✅ | **무한스크롤** |
| 모바일 UX | ❌ | ✅ | **무한스크롤** |
| 과거 글 탐색 | ✅ | ❌ | 보완 필요 |
| SEO | ✅ | ❌ | 불필요 |

### 2.3 결론

**무한스크롤 채택** + 단점 보완

| 무한스크롤 단점 | 보완책 |
|----------------|--------|
| 과거 글 탐색 어려움 | **주제별 탭** 필터링 |
| 특정 글 재방문 어려움 | **북마크 기능** |

### 2.4 참고: 커뮤니티 리서치

<details>
<summary>주요 커뮤니티 운영 방식 (펼치기)</summary>

| 커뮤니티 | 스크롤 방식 | 특징 |
|---------|------------|------|
| 에펨코리아 | 페이지네이션 | 포텐터짐 (인기글 분리) |
| 디시인사이드 | 페이지네이션 | 실베 (운영자 선정) |
| 클리앙 | 페이지네이션 | 공감 기반 |
| 트위터/X | **무한스크롤** | 알고리즘 추천 |
| 레딧 | **무한스크롤** | Upvote + 시간 가중치 |
| 토스 종토방 | **무한스크롤** | 종목별 분리 + 신뢰도 |

</details>

### 2.5 MM.pro 서비스 구조

#### 메인 vs 커뮤니티

MM.pro는 **메인 페이지(예측 시장)**와 **커뮤니티 탭**이 분리된 구조입니다.

```
┌─────────────────────────────────────┐
│  메인 페이지 (예측 시장)             │
│  - Polymarket 마켓 한글화           │
│  - 실시간 가격, 베팅                │
│  - 마켓별 댓글 (디시 스타일)         │  ← 로그인 없이 작성 가능
└──────────────┬──────────────────────┘
               │ 자동 연동
               ▼
┌─────────────────────────────────────┐
│  커뮤니티 탭 (피드)                  │
│  - [최신글] [주제별] 탭             │
│  - 인기글, 유저 프로필              │  ← 로그인 필요
└─────────────────────────────────────┘
```

#### 글 작성 및 연동

| 작성 위치 | UI 뎁스 | 로그인 | 마켓 연동 | 피드 노출 |
|----------|--------|:------:|----------|:--------:|
| **마켓 페이지** | 낮음 (댓글처럼) | ❌ 불필요 | **자동** (마켓 정보 상속) | ✅ |
| **커뮤니티 탭** | 높음 (마켓 선택) | ✅ 필요 | **수동** (불러오기) | ✅ |

**핵심:** 마켓에서 가볍게 쓴 글도 → 시스템이 자동으로 주제 분류 → 커뮤니티 피드에 노출

### 2.6 익명 글 정책

#### 익명 글 피드 노출

마켓 페이지에서 로그인 없이 작성한 글도 커뮤니티 피드에 노출됩니다.

**익명 닉네임 방식:** 랜덤 닉네임 (예: 졸린판다, 행복한고양이)

#### 익명 vs 회원 권한 비교

| 기능 | 익명 | 회원 |
|------|:----:|:----:|
| 글 읽기 | ✅ | ✅ |
| 글 쓰기 (마켓 페이지) | ✅ | ✅ |
| 글 쓰기 (커뮤니티 탭) | ❌ | ✅ |
| 좋아요 받기 | ✅ | ✅ |
| 좋아요 주기 | ❌ | ✅ |
| **인기글 진입** | ✅ | ✅ |
| 적중률 추적 | ❌ | ✅ |
| 배지/레벨 획득 | ❌ | ✅ |

#### 익명 글 표시

```
┌─────────────────────────────────────┐
│ 👤 졸린판다 (익명)        35분 전   │
│ "비트코인 이번에 간다~"             │
│ 🟢 강세  ·  BTC $100k 마켓         │
│ ♡ 12  💬 3                         │
└─────────────────────────────────────┘
```

- **(익명)** 라벨로 회원과 구분
- 적중률, 레벨, 배지 표시 없음

#### 익명 글 어뷰징 방지

| 방법 | 설명 |
|------|------|
| **쿨타임** | 익명은 3분에 1글 제한 |
| **캡챠** | 글 작성 시 캡챠 인증 |
| **디바이스 핑거프린트** | 동일 기기 추적 |
| **레이트 리밋** | 같은 IP 시간당 N개 제한 |

### 2.7 댓글 시스템

#### 기본 구조

| 항목 | 결정 | 비고 |
|------|------|------|
| **답글 구조** | 1단만 허용 | 대댓글(답글의 답글) X |
| **정렬 방식** | 시간순 (오래된 순) | 토론 맥락 유지 |
| **글자 제한** | 1,000자 | |

#### 댓글 와이어프레임

```
┌─────────────────────────────────────┐
│ 동글동글살자 🌳 Lv.3        10분 전  │
│ "이번에 진짜 간다고 봄"              │
│ ♡ 5   [답글]                        │
│                                     │
│  └─ 졸린판다 (익명)          5분 전  │  ← 1단 답글
│     "ㅇㅈ 나도 그렇게 생각함"         │
│     ♡ 2                             │
│                                     │
│  └─ 동글동글살자 🌳          3분 전  │  ← 원댓글 작성자 답글
│     "@졸린판다 ㄱㅅ"                 │
│     ♡ 1                             │
└─────────────────────────────────────┘
```

#### 익명 댓글 정책

| 항목 | 익명 글 | 익명 댓글 |
|------|:------:|:--------:|
| 피드 노출 | ✅ | - |
| 좋아요 **받기** | ✅ | ✅ |
| 좋아요 **주기** | ❌ | ✅ |
| 인기글 진입 | ✅ | - |
| 작성 쿨타임 | 3분 | **10초** |

**익명 댓글 닉네임 규칙:**
- 랜덤 닉네임 부여 (예: 졸린판다, 행복한고양이)
- **같은 글 내에서 동일인 = 같은 닉네임 유지**
- 다른 글에서는 새로운 닉네임 부여

```
예시: 같은 익명 유저가 한 글에서 댓글 3개 작성

댓글 1: 졸린판다 (익명) "첫 번째 댓글"
댓글 2: 졸린판다 (익명) "두 번째 댓글"  ← 같은 닉네임
답글:   졸린판다 (익명) "@누구 ㅇㅇ"    ← 같은 닉네임

→ 대화 맥락 파악 가능 + 완전한 익명성 유지
```

#### 수정/삭제 정책

| 항목 | 정책 |
|------|------|
| **수정 가능 시간** | 작성 후 10분 이내 |
| **삭제 가능 시간** | 작성 후 10분 이내 |
| **답글 있는 댓글 삭제** | "삭제된 댓글입니다" 표시 (답글은 유지) |
| **답글 없는 댓글 삭제** | 완전 삭제 |

```
삭제된 댓글 표시 예시:

┌─────────────────────────────────────┐
│ [삭제된 댓글입니다]                   │  ← 원댓글 삭제됨
│                                     │
│  └─ 행복한고양이 (익명)      3분 전  │  ← 답글은 유지
│     "아 그렇구나 ㄱㅅ"               │
└─────────────────────────────────────┘
```

#### 익명 댓글 어뷰징 방지

| 방법 | 설명 |
|------|------|
| **쿨타임** | 익명 댓글 10초 간격 |
| **동일 글 제한** | 같은 글에 익명 댓글 최대 10개 |
| **캡챠** | 연속 5개 작성 시 캡챠 |
| **디바이스 핑거프린트** | 우회 시도 감지 |

### 2.8 글 수정/삭제 정책

#### 수정 정책

| 항목 | 정책 |
|------|------|
| **수정 가능 시간** | 작성 후 10분 이내 |
| **수정 이력 표시** | "(수정됨 5분 전)" 형태로 표시 |
| **예측 연동 글** | 일반 글과 동일 (10분 내 예측도 수정 가능) |

```
수정된 글 표시 예시:

┌─────────────────────────────────────┐
│ 동글동글살자 🌳 Lv.3        35분 전  │
│                        (수정됨 30분 전) │
│ "비트코인 이번에 10만 간다"           │
│ 🟢 강세  ·  BTC $100k 마켓           │
└─────────────────────────────────────┘
```

#### 삭제 정책

| 항목 | 정책 |
|------|------|
| **삭제 가능 시간** | 무제한 (언제든 삭제 가능) |
| **삭제 시 댓글** | 완전 삭제 (댓글도 같이 삭제) |
| **삭제 확인** | "댓글 N개가 함께 삭제됩니다" 경고 |

#### 글 vs 댓글 비교

| 항목 | 글 | 댓글 |
|------|:--:|:----:|
| 수정 가능 시간 | 10분 | 10분 |
| 삭제 가능 시간 | **무제한** | 10분 |
| 삭제 시 하위 항목 | 댓글 같이 삭제 | 답글 유지 ("삭제된 댓글") |

**설계 의도:**
- 글 삭제는 본인 콘텐츠 관리 권한 존중 (무제한)
- 댓글 삭제 제한은 토론 맥락 보존 목적

### 2.9 알림 시스템

#### 알림 종류

| 알림 | 예시 |
|------|------|
| 내 글에 댓글 | "동글동글살자님이 댓글을 남겼습니다" |
| 내 댓글에 답글 | "졸린판다(익명)님이 답글을 남겼습니다" |
| 좋아요 (묶음) | "동글동글살자님 외 5명이 좋아요를 눌렀습니다" |
| 새 팔로워 | "동글동글살자님이 팔로우했습니다" |
| 팔로잉 유저 글 작성 | "동글동글살자님이 새 글을 작성했습니다" |
| 예측 결과 확정 | "BTC $100k 예측이 적중했습니다 🎯" |
| 인기글 진입 | "내 글이 인기글에 올랐습니다 🔥" |
| 배지/레벨업 | "예측가 실버 배지를 획득했습니다 🎉" |

**제외:** 운영 공지 (별도 공지 탭에서 확인)

#### 알림 표시

```
┌─────────────────────────────────────┐
│ 🔔³                          [설정] │
├─────────────────────────────────────┤
│ 🟢 동글동글살자님 외 3명이 좋아요    │  ← 묶음 알림
│    "비트코인 이번에 간다" 글에       │
│                            5분 전   │
├─────────────────────────────────────┤
│ 🟢 졸린판다(익명)님이 댓글 작성      │  ← 익명 랜덤닉 표시
│    "ㅇㅈ 나도 그렇게 생각함"         │
│                           10분 전   │
├─────────────────────────────────────┤
│ ⚪ BTC $100k 예측이 적중했습니다 🎯  │  ← 읽은 알림
│                            1일 전   │
└─────────────────────────────────────┘
```

#### 알림 설정

| 항목 | 정책 |
|------|------|
| 설정 방식 | 전체 ON/OFF만 (종류별 설정 X) |
| 기본값 | ON |
| 푸시 알림 | 웹 푸시 지원 (전체 ON/OFF에 포함) |

#### 알림 관리

| 항목 | 정책 |
|------|------|
| 보관 기간 | 30일 (이후 자동 삭제) |
| 읽음 처리 | 알림 클릭 시 자동 읽음 |
| 전체 읽음 | "모두 읽음" 버튼 제공 |

### 2.10 검색 시스템

#### 검색 범위

| 대상 | 포함 |
|------|:----:|
| 글 제목 | ✅ |
| 글 본문 | ✅ |
| 유저 닉네임 | ✅ |
| 댓글 | ❌ |
| 익명 글 | ✅ |

#### 검색 필터

| 필터 | 옵션 |
|------|------|
| 주제 | 전체 / 정치 / 크립토 / 스포츠 / 기타 |
| 기간 | 전체 / 1일 / 1주 / 1개월 / 3개월 |
| 작성자 레벨 | 전체 / 시니어 이상 / 프로 이상 |
| 예측 방향 | 전체 / 강세 / 약세 |

#### 검색 결과 정렬

| 정렬 | 기본값 |
|------|:------:|
| **최신순** | ✅ (기본) |
| 관련도순 | |

### 2.11 북마크 시스템

#### 북마크 대상

| 대상 | 지원 |
|------|:----:|
| 글 | ✅ |
| 댓글 | ✅ |
| 유저 | ✅ (팔로우와 별개) |

#### 북마크 관리

| 항목 | 정책 |
|------|------|
| 폴더/분류 | 없음 (단순 목록) |
| 정렬 | 북마크한 시간순 |
| 삭제된 글 | "삭제된 글입니다" 표시 유지 |

```
북마크 목록 예시:

┌─────────────────────────────────────┐
│ 📑 북마크                    총 23개 │
├─────────────────────────────────────┤
│ 📝 "비트코인 이번에 간다"            │
│    동글동글살자 · 2일 전 저장        │
├─────────────────────────────────────┤
│ 💬 "ㅇㅈ 이건 진짜 맞는 말"          │
│    졸린판다(익명) 댓글 · 3일 전 저장  │
├─────────────────────────────────────┤
│ 👤 동글동글살자                      │
│    유저 · 1주 전 저장                │
├─────────────────────────────────────┤
│ 📝 [삭제된 글입니다]                 │  ← 원글 삭제됨
│    5일 전 저장                       │
└─────────────────────────────────────┘
```

### 2.12 마켓 종료 시 글 처리

#### 설계 철학

> **"디시 + 토스증권"** - 게시판이 메인, 예측은 부가 기능
> - 맞춘 거 자랑하는 재미 → 결과 확정 후에도 노출 유지
> - 틀려도 기분 안 나쁘게 → 객관적 결과만 표시
> - 자유로운 토론 → 수정/댓글 제한 없음

#### 예측 결과 표시

**원칙:** 개인 평가(적중/실패) ❌ → 객관적 사실만 ✅

```
✅ 객관적 표시 (채택)
┌─────────────────────────────────────┐
│ 동글동글살자 🌳               35분 전 │
│ "BTC 이번에 간다"                    │
│ 🟢 강세 예측 · 결과: $102k 돌파 ✓    │  ← 사실만 표시
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 졸린판다 🌱                   1일 전  │
│ "이번엔 못 갈듯"                     │
│ 🔴 약세 예측 · 결과: $102k 돌파 ✓    │  ← 틀렸지만 중립적
└─────────────────────────────────────┘
```

**표시 요소:**
- 예측 방향 (🟢 강세 / 🔴 약세)
- 실제 결과 (객관적 사실)
- 체크 표시 (✓)는 마켓 종료됨을 의미

#### 피드 노출 정책

| 시점 | 노출 |
|------|------|
| 마켓 진행 중 | 정상 노출 |
| 마켓 종료 후 24시간 | 정상 노출 (자랑 타임) |
| 24시간 이후 | 점진적 노출 감소 |

**점진적 감소 방식:**
- 인기글 진입 제외
- 피드 알고리즘 가중치 감소
- 검색/프로필에서는 계속 접근 가능

#### 수정/댓글 정책

| 항목 | 정책 |
|------|------|
| 예측 수정 | **마켓 종료 전까지만** 가능 |
| 댓글 작성 | **언제든 가능** (제한 없음) |

**마켓 종료 후:**
- 예측 부분 수정 불가 (결과 확정됨)
- 본문 수정도 불가 (기록 보존)
- 댓글은 계속 가능

**참고:** 예측 수정 이력은 시스템에 기록되어 적중률 계산에 반영

### 2.13 신고 기능

#### 신고 대상 및 사유

| 항목 | 내용 |
|------|------|
| 신고 대상 | 글 + 댓글 |
| 사유 선택 | 복수 선택 가능 |

**신고 사유:**
- 스팸/광고
- 욕설/비하
- 허위 정보
- 도배
- 기타 (직접 입력)

#### 신고 처리

| 항목 | 정책 |
|------|------|
| 자동 숨김 | 5건 이상 신고 시 |
| 모더레이터 알림 | 5건 이상 시 자동 알림 |
| 신고자 결과 알림 | 처리 완료 시 알림 |

### 2.14 차단 기능

| 항목 | 정책 |
|------|------|
| 차단 효과 | 상대 글/댓글 안 보임 |
| 차단 알림 | 없음 (몰래 차단) |
| 차단 해제 | 언제든 가능 |
| 차단 목록 | 설정에서 확인/관리 |

### 2.15 이미지 업로드

| 항목 | 정책 |
|------|------|
| 업로드 위치 | 글 + 댓글 + 프로필 |
| 개수 제한 | 글당 20장 |
| 파일 크기 | 10MB |
| 지원 형식 | JPG, PNG, GIF, WebP |
| 익명 업로드 | 허용 |

### 2.16 팔로우

| 항목 | 정책 |
|------|------|
| 팔로우 알림 | 있음 |
| 팔로우 취소 | 바로 가능 |
| 맞팔로우 표시 | 안 함 |
| 팔로워/팔로잉 목록 | 본인만 확인 가능 |

### 2.17 프로필 설정

| 항목 | 정책 |
|------|------|
| 닉네임 변경 | 90일에 1회 |
| 닉네임 중복 | 불허 (고유) |
| 닉네임 글자 | 2~15자 |
| 프로필 이미지 | 커스텀 업로드 가능 |
| 자기소개 | 100자 제한 |

### 2.18 온보딩

| 항목 | 정책 |
|------|------|
| 온보딩 방식 | 없음 (바로 시작) |
| 첫 닉네임 | 랜덤 부여 → 나중에 변경 가능 |

### 2.19 키워드 필터

#### 필터 카테고리

| 카테고리 | 처리 | 비고 |
|---------|------|------|
| **일반 욕설** | 마스킹 (시** ) | 시발, 병신 등 |
| **경미한 표현** | 허용 | 미친, 뒤져 등 |
| **성적 표현** | 마스킹 | 성인 관련 |
| **비하 표현** | 마스킹 | 특정 집단 비하 |
| **인종 차별** | 자동 숨김 + 신고 | 심각한 혐오 |
| **가족 비하** | 마스킹 | 패드립 |
| **영어 욕설** | 마스킹 | f-word 등 |
| **정치 비하** | **허용** | 커뮤니티 핵심 토론 |
| **스팸/광고** | 자동 숨김 | 텔레그램, 리딩방 |
| **도박/사기** | 자동 숨김 | 수익 인증, 홍보 |

**설계 철학:**
> 정치 토론은 커뮤니티 핵심 → 정치 비하 필터 최소화
> 예측 시장 특성상 정당/진영 간 논쟁은 자연스러운 것

#### 처리 방식

| 수위 | 처리 | 예시 |
|-----|------|------|
| 허용 | 그대로 게시 | 정치 비하, 경미한 표현 |
| 마스킹 | 글자 가림 (시** ) | 일반 욕설, 성적 표현 |
| 자동 숨김 | 숨김 + 모더 검토 | 인종 차별, 스팸 |

#### 참고 라이브러리

- [korcen](https://github.com/Tanat05/korcen) - 한국어 비속어 필터 (10개 카테고리)
- [bad-word-filtering](https://github.com/VaneProject/bad-word-filtering) - Java 라이브러리

### 2.20 글 작성 제한

| 항목 | 제한 |
|------|------|
| **최소 글자 수** | 10자 이상 |
| **최대 글자 수** | 10,000자 |
| **제목 글자 수** | 2~100자 |

### 2.21 회원가입/로그인

| 항목 | 정책 |
|------|------|
| 인증 방식 | **Privy** (Web3 인증) |
| 지원 로그인 | 지갑 연동, 소셜 로그인, 이메일 |
| 세션 유지 | 30일 (자동 로그인) |

### 2.22 탈퇴 정책

| 항목 | 정책 |
|------|------|
| 탈퇴 신청 | 설정 > 계정 > 탈퇴 |
| 유예 기간 | 7일 (철회 가능) |
| 작성 글/댓글 | **유지** (닉네임 → "탈퇴한 사용자") |
| 프로필 정보 | 삭제 |
| 예측 기록 | 익명화 후 통계용 보관 |
| 재가입 제한 | 탈퇴 후 30일 |

**탈퇴 후 표시:**
```
┌─────────────────────────────────────┐
│ 탈퇴한 사용자              35분 전   │
│ "비트코인 이번에 간다"               │
│ 🟢 강세 예측                        │
└─────────────────────────────────────┘
```

---

## 3. 논의 과정

### 3.1 첫 번째 결정: 무한스크롤 선택

**왜 무한스크롤인가?**
- 투자 커뮤니티는 **실시간성**이 중요
- 모바일 사용자 비중 높을 것으로 예상
- 페이지네이션은 탐색엔 좋지만, **참여 유도**엔 무한스크롤이 유리

### 3.2 두 번째 고민: 인기글 상단 노출

**초기 안: 인기글 3개 상단 고정**

```
[인기글 1]
[인기글 2]
[인기글 3]
─────────
[피드 시작]
```

**문제점 발견:**
> "들어올 때마다 상단에 같은 인기글 3개가 있으면 스크롤 피로도가 있지 않을까?"

매번 같은 3개를 지나쳐야 함 → **"또 이거야"** 피로감

### 3.3 해결책 탐색

| 대안 | 장점 | 단점 |
|-----|------|------|
| 별도 탭으로 분리 | 깔끔 | 인기글 노출 감소 |
| 가로 스크롤 카드 | 공간 절약 | **가로+세로 혼재 = 헷갈림** |
| 접을 수 있는 섹션 | 사용자 통제 | 한 단계 더 필요 |
| 새로고침마다 교체 | 신선함 유지 | - |

**결정:**
> "가로랑 세로 스크롤 방식 2개가 혼재되어 있으면 헷갈릴 것 같아"

→ **세로 스크롤 통일** + **새로고침마다 인기글 교체**

### 3.4 세 번째 결정: 인기글 2개

> "인기글 옵션은 가되, 처음 2개까지만 칸을 배분해주면 딱 좋을 것 같은데?"

| 개수 | 평가 |
|-----|------|
| 1개 | 너무 적어서 "인기글" 느낌 약함 |
| **2개** | 한눈에 보이고, 바로 피드 시작 |
| 3개 | 피드 진입 전 스크롤 부담 |

**최종:** 인기글 **2개** + 새로고침마다 교체

### 3.5 네 번째 고민: 무한스크롤의 휘발성

**문제:**
> "무한스크롤 글들은 휘발성이 있는데, 투자 커뮤니티에서는 특정 종목에 대한 다양한 의견을 탐색하고 싶어할 수도 있어"

- 무한스크롤: 최신 글 위주, 스크롤하면 묻힘
- 투자 커뮤니티 니즈: 과거 의견도 궁금, **"이 종목 어떻게 생각해?"** 탐색

### 3.6 최종 해결책: 피드 2개 분리

> "피드를 2개로 나누자. 최신글 / 주제별. 인기글은 상관없이 둘 다 위에."

```
[최신글]  [주제별]
─────────────────
🔥 인기글 1
🔥 인기글 2      [전체보기]
─────────────────
(각 피드 콘텐츠)
     ↓ 무한스크롤
```

### 3.7 다섯 번째 결정: 주제별 탭 인기글

**초기 아이디어:**
> "주제별 탭에서는 그 유저가 선택한 주제의 인기글 3개 정도 보여주면 더 큐레이션 하는 느낌을 줄 수 있어"

**최종 결정:** 뜨거운 반응 탭이 추가되면서 **2개로 통일**

| 탭 | 인기글 | 이유 |
|----|--------|------|
| 최신글 | 2개 | 빠르게 피드 진입 |
| 주제별 | 2개 | 뜨거운 반응 탭이 있으므로 2개로 충분 |
| 뜨거운 반응 | - | 인기글 전용 탭 |

### 3.8 여섯 번째 고민: 유저 프로필 페이지 전환

**니즈:**
> "글 작성자를 눌렀을 때 그 사람이 과거에 무슨 글 썼는지, 활동 내역을 보고 싶어"

**초기 제안:** 별도 페이지로 이동 (토스증권 UI 참고)

**추가 요구:**
> "페이지는 전환되도 되는데, 커뮤니티 안에 있다는 느낌이 있으면 좋겠어. 리다이렉트 안 되는 느낌!"

**해결책:** SPA 방식 + 슬라이드 트랜지션
- 페이지는 전환되지만 앱 내에서 이동하는 느낌
- 뒤로가기 시 스크롤 위치 그대로 복귀
- 하단 탭 유지로 "같은 공간" 느낌

---

## 4. 최종 결정 사항

### 4.1 피드 구조

| 탭 | 용도 | 특징 |
|----|------|------|
| **최신글** | 일상적 소비 | 전체 글 시간순 |
| **주제별** | 종목/주제 탐색 | 카테고리 선택 후 해당 글만 |
| **뜨거운 반응** | 인기글 탐색 | 인기 점수순 정렬 |

### 4.2 인기글 정책

#### 탭별 인기글 노출

| 탭 | 상단 인기글 | 피드 정렬 |
|----|:----------:|----------|
| **최신글** | 2개 | 최신순 |
| **주제별** | 2개 | 최신순 |
| **뜨거운 반응** | - | 인기 점수순 |

#### 최신글 탭 인기글

| 항목 | 내용 |
|------|------|
| 노출 개수 | **2개** |
| 범위 | 전체 카테고리 |
| 교체 방식 | 새로고침마다 변경 |
| 교체 로직 | 미열람 우선 + 가중 랜덤 |

#### 주제별 탭 인기글

| 항목 | 내용 |
|------|------|
| 노출 개수 | **3개** |
| 범위 | 선택한 주제(정치/크립토/스포츠/기타) 내에서만 |
| 교체 방식 | 새로고침마다 변경 |
| 목적 | "이 주제에서 지금 뜨는 글" 큐레이션 |

#### 공통

| 항목 | 내용 |
|------|------|
| 전체보기 | 인기글 목록 페이지로 이동 |

### 4.3 인기글 선정 기준 (상세)

#### 기본 공식

```
인기 점수 = (기본 점수 + 보너스 점수) × 시간 감쇠율
```

#### 기본 점수 계산

| 요소 | 점수 | 비고 |
|------|------|------|
| 좋아요 1개 | +10점 | 로그 스케일 적용 (아래 참고) |
| 댓글 1개 | +5점 | |
| 조회수 100회당 | +1점 | 최대 +20점 |

**좋아요 로그 스케일:**
```
실제 점수 = 10 × log₂(좋아요 수 + 1)

예시:
- 1개: 10점
- 10개: 35점
- 50개: 57점
- 100개: 67점
- 500개: 90점
```
→ 초반 좋아요가 더 가치 있음 (조작 방지 + 신규 글 기회 부여)

#### 보너스 점수

| 조건 | 보너스 | 설명 |
|------|--------|------|
| 예측 연동 글 | +20점 | 마켓 베팅이 포함된 글 |
| 작성자 적중률 60%+ | +15점 | 신뢰도 높은 유저 |
| 작성자 적중률 70%+ | +30점 | |
| 작성자 Lv.4 이상 | +10점 | 시니어 이상 |
| 이미지/차트 포함 | +5점 | 퀄리티 글 유도 |

#### 시간 감쇠율

글이 오래될수록 점수가 감소합니다.

| 경과 시간 | 감쇠율 | 예시 (100점 기준) |
|----------|--------|------------------|
| 0~1시간 | 100% | 100점 |
| 1~3시간 | 90% | 90점 |
| 3~6시간 | 75% | 75점 |
| 6~12시간 | 50% | 50점 |
| 12~24시간 | 30% | 30점 |
| 24~48시간 | 15% | 15점 |
| 48시간+ | 5% | 5점 |

**공식:**
```
시간 감쇠율 = 1 / (1 + 경과시간(h) / 6)^1.5
```

#### 인기글 진입 기준

**필수 조건 (AND):**
- 좋아요 **15개 이상**
- 댓글 **5개 이상**
- 신고 0건
- 작성자 제재 이력 없음

**또는 급상승 조건:**
- 1시간 내 좋아요 **10개 이상** (댓글 조건 면제)

#### 인기글 풀 관리

| 항목 | 값 |
|------|-----|
| 인기글 풀 최대 크기 | 50개 |
| 풀 갱신 주기 | 10분 |
| 최소 유지 시간 | 1시간 (급락 방지) |
| 최대 유지 시간 | 48시간 |

#### 인기글 노출 로직 (상단 2개)

```
1. 인기글 풀 (50개)에서
2. 사용자가 아직 안 본 글 필터링
3. 가중 랜덤 선택 (점수 높을수록 확률 ↑)
4. 2개 노출
5. 새로고침 시 다시 선택
```

**가중 랜덤 공식:**
```
선택 확률 = 해당 글 점수 / 전체 점수 합
```

#### 예시 시나리오

**글 A:**
- 좋아요 30개, 댓글 10개, 3시간 경과
- 작성자 적중률 65%, Lv.4, 예측 연동

```
기본 점수:
- 좋아요: 10 × log₂(31) = 49점
- 댓글: 10 × 5 = 50점
- 소계: 99점

보너스:
- 예측 연동: +20점
- 적중률 60%+: +15점
- Lv.4: +10점
- 소계: +45점

시간 감쇠: 75%

최종 점수: (99 + 45) × 0.75 = 108점
```

**글 B:**
- 좋아요 100개, 댓글 5개, 20시간 경과
- 작성자 적중률 40%, Lv.2

```
기본 점수:
- 좋아요: 10 × log₂(101) = 67점
- 댓글: 5 × 5 = 25점
- 소계: 92점

보너스: 없음

시간 감쇠: 20%

최종 점수: 92 × 0.20 = 18점
```

→ 좋아요가 더 많아도 오래된 글은 순위 하락

#### 콜드스타트 조정

서비스 초기에는 기준을 낮춰서 운영:

| 시기 | 인기글 진입 기준 |
|------|-----------------|
| 출시 초기 (MAU 1천 미만) | 좋아요 5+ 댓글 2+ |
| 성장기 (MAU 1만 미만) | 좋아요 10+ 댓글 3+ |
| 안정기 (MAU 1만 이상) | 좋아요 15+ 댓글 5+ |
| 대형 (MAU 10만 이상) | 좋아요 30+ 댓글 10+ |

### 4.4 주제별 카테고리 (Polymarket 태그 기준)

| 카테고리 | 영문 | 예시 콘텐츠 |
|---------|------|------------|
| **정치** | Politics | 정책, 여론, 정당 |
| **선거** | Elections | 대선, 총선, 지방선거 |
| **크립토** | Crypto | BTC, ETH, 알트코인 |
| **스포츠** | Sports | 축구, 야구, e스포츠 |
| **금융** | Finance | 주식, 채권, 금리 |
| **경제** | Economy | GDP, 물가, 고용 |
| **기술** | Tech | AI, 빅테크, 스타트업 |
| **문화** | Culture | 영화, 음악, 연예 |
| **지정학** | Geopolitical | 전쟁, 외교, 국제관계 |
| **세계** | World | 글로벌 이슈 |
| **기후/과학** | Climate & Science | 환경, 연구 |
| **기업실적** | Earnings | 분기 실적, 매출 |
| **기타** | Misc | 위 카테고리에 해당 안 되는 것 |

**참고:** Polymarket API `tags` 필드와 연동

#### 카테고리 선택 UX

| 글쓰기 위치 | 카테고리 처리 |
|------------|--------------|
| **마켓 페이지** | 자동 태그 (선택 불필요) |
| **커뮤니티 탭** | 직접 선택 (최근 사용 우선 표시) |

**커뮤니티 탭 글쓰기 UI:**
```
┌─────────────────────────────┐
│ 카테고리 선택                │
│                             │
│ 최근 사용                    │
│ [크립토] [정치] [선거]       │  ← 자주 쓰는 거 먼저
│                             │
│ 전체 보기 ▼                  │
│ [정치] [선거] [크립토] ...   │
└─────────────────────────────┘
```

→ 마켓 페이지 글은 자동, 커뮤니티 글은 **클릭 1번**으로 해결

### 4.5 스크롤 방식

- **무한스크롤** 통일 (세로만)
- 가로 스크롤 없음 (UX 혼란 방지)

### 4.6 유저 프로필 페이지

#### 진입 방식
글 작성자 닉네임 클릭 시 해당 유저의 프로필 페이지로 이동

#### 핵심 UX 원칙: 앱 네이티브 느낌

> "페이지는 전환되도 되는데, 여전히 커뮤니티 안에 있다는 느낌이 있으면 좋겠어. 리다이렉트 안 되는 느낌!"

| 리다이렉트 느낌 ❌ | 앱 네이티브 느낌 ✅ |
|------------------|-------------------|
| 페이지 깜빡임 | 부드러운 슬라이드 전환 |
| 뒤로가면 새로 로딩 | 스크롤 위치 그대로 복귀 |
| 브라우저 뒤로가기만 | 앱 내 ← 뒤로 버튼 |
| 하단 탭 사라짐 | 하단 탭 유지 |

#### 프로필 페이지 구성 (토스증권 UI 참고)

```
┌─────────────────────────────────────┐
│ ← 커뮤니티                          │  ← 뒤로가기 버튼
├─────────────────────────────────────┤
│ [프로필]  동글동글살자  🌳 Lv.3      │
│           🎯 예측가 실버  ✅ 인증    │
│ 글 34 · 팔로워 128 · 팔로잉 45      │
│ 적중률 62% (50회)                   │
│                          [팔로우]   │
├─────────────────────────────────────┤
│ [전체 활동] [남긴 글] [예측 기록]    │
├─────────────────────────────────────┤
│ 비트코인에 남긴 글  ·  35분 전       │
│ "1월에 9만 5천달러 이상"            │
│ 🟢 강세  ·  적중 ✅                 │
│ ♡ 23  💬 12                        │
├─────────────────────────────────────┤
│ ...                                 │
└─────────────────────────────────────┘
```

#### 탭 구성

| 탭 | 내용 |
|----|------|
| **전체 활동** | 글 + 댓글 + 예측 시간순 |
| **남긴 글** | 본인 작성 글만 |
| **예측 기록** | 예측 내역 + 적중/실패 표시 |

---

## 5. 개발 요구사항

### 5.1 주제 카테고리 확장성

```
⚠️ 필수: 하드코딩 금지

- DB 또는 설정 파일에서 카테고리 관리
- 어드민 패널에서 추가/삭제/순서변경 가능
- 카테고리별 아이콘, 컬러 커스텀 지원
```

**데이터 구조 예시:**
```json
{
  "id": "crypto",
  "name": "크립토",
  "icon": "₿",
  "color": "#F7931A",
  "order": 2,
  "isActive": true
}
```

### 5.2 인기글 시스템 구현

```
⚠️ 핵심 구현 사항

1. 인기글 풀 관리
   - 10분마다 점수 재계산
   - 상위 50개 유지
   - Redis 또는 캐시 레이어 활용

2. 점수 계산
   - 기본 점수: 좋아요(로그스케일) + 댓글 + 조회수
   - 보너스: 예측연동, 작성자 적중률, 레벨
   - 시간 감쇠: 1 / (1 + hours/6)^1.5

3. 노출 로직
   - 사용자별 열람 기록 추적 (Redis Set)
   - 미열람 글 필터링
   - 가중 랜덤 선택 (점수 비례 확률)

4. API 응답
   GET /api/feed/hot
   - 새로고침마다 2개 반환
   - 이전에 본 글 제외
```

**데이터 구조 예시:**
```json
{
  "postId": "abc123",
  "baseScore": 99,
  "bonusScore": 45,
  "decayRate": 0.75,
  "finalScore": 108,
  "createdAt": "2025-02-02T10:00:00Z",
  "calculatedAt": "2025-02-02T13:00:00Z"
}
```

### 5.3 유저 프로필 페이지 전환

```
⚠️ 필수: SPA 방식 + 네이티브 앱 느낌

- SPA (Single Page Application) 방식 화면 전환
- 슬라이드 트랜지션 (오른쪽에서 밀려오는 애니메이션)
- 스크롤 위치 유지 (뒤로가기 시 원래 보던 곳으로 복귀)
- 상단에 "← 커뮤니티" 뒤로가기 버튼
- 하단 네비게이션 탭 유지
```

**참고 UI:** 토스증권 종토방 유저 프로필

---

## 6. UI 와이어프레임

**최신글 탭:**
```
┌─────────────────────────────────────────┐
│  [최신글]  [주제별 ▼]  [뜨거운 반응]     │
├─────────────────────────────────────────┤
│  🔥 인기글 제목 1...          [전체보기] │
│  🔥 인기글 제목 2...                     │
├─────────────────────────────────────────┤
│                                         │
│  [일반 피드 글 1]                        │
│  ─────────────────                      │
│  [일반 피드 글 2]                        │
│  ─────────────────                      │
│  [일반 피드 글 3]                        │
│           ↓                             │
│      (무한스크롤)                        │
│                                         │
└─────────────────────────────────────────┘
```

**주제별 탭 선택 시:**
```
[주제별 ▼] 클릭
    ↓
┌─────────┐
│ 정치     │
│ 크립토   │  ← 선택하면 해당 주제 글만 표시
│ 스포츠   │
│ 기타     │
└─────────┘
```

**주제별 탭 - 크립토 선택 예시:**
```
┌─────────────────────────────────────────┐
│  [최신글]  [주제별: 크립토 ▼]  [뜨거운 반응] │
├─────────────────────────────────────────┤
│  🔥 크립토 인기글 1...       [전체보기]  │
│  🔥 크립토 인기글 2...                   │
├─────────────────────────────────────────┤
│                                         │
│  [크립토 최신 글 1]                      │
│  ─────────────────                      │
│  [크립토 최신 글 2]                      │
│           ↓                             │
│      (무한스크롤)                        │
│                                         │
└─────────────────────────────────────────┘
```

**뜨거운 반응 탭:**
```
┌─────────────────────────────────────────┐
│  [최신글]  [주제별 ▼]  [뜨거운 반응]     │
├─────────────────────────────────────────┤
│                                         │
│  🔥 1. "BTC 10만 간다"                  │
│      동글동글살자 · 좋아요 234 · 댓글 89 │
│  ─────────────────                      │
│  🔥 2. "트럼프 당선 확실시"              │
│      졸린판다(익명) · 좋아요 187 · 댓글 56 │
│  ─────────────────                      │
│  🔥 3. "이더 합병 이후 전망"             │
│      행복한고양이 · 좋아요 145 · 댓글 34 │
│           ↓                             │
│      (인기 점수순)                       │
│                                         │
└─────────────────────────────────────────┘
```

---

## 7. 향후 확장 고려사항

- 카테고리 추가: 주식, 부동산, 글로벌 등
- 서브 카테고리: 크립토 → BTC, ETH, 알트 등
- 개인화 추천 탭 추가 가능성
- 팔로잉 전용 피드 분리 가능성
- **광고/스팸 방지 정책**: 사이트 차원의 광고 탐지, 자동 필터링, 제재 기준

---

## 8. 참고 자료

### 리서치 출처
- [에펨코리아 - 나무위키](https://namu.wiki/w/%EC%97%90%ED%8E%A8%EC%BD%94%EB%A6%AC%EC%95%84)
- [클리앙 - 나무위키](https://namu.wiki/w/%ED%81%B4%EB%A6%AC%EC%95%99)
- [디시인사이드 개념글 - 나무위키](https://namu.wiki/w/%EA%B0%9C%EB%85%90%EA%B8%80)
- [루리웹 오른쪽 BEST - 나무위키](https://namu.wiki/w/%EB%A3%A8%EB%A6%AC%EC%9B%B9%20%EC%98%A4%EB%A5%B8%EC%AA%BD%20BEST)
- [레딧 - 나무위키](https://namu.wiki/w/%EB%A0%88%EB%94%A7)
- [How Reddit ranking algorithms work - Medium](https://medium.com/hacking-and-gonzo/how-reddit-ranking-algorithms-work-ef111e33d0d9)
- [토스증권 종토방 - 한국경제](https://www.hankyung.com/article/2022012818906)

---

*작성일: 2025-02-02*
*최종 수정: 2025-02-02*
